<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ボトルネック独占評価 Top30 4象限マトリックス【2026年1月27日】</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      padding: 20px;
      color: #fff;
    }
    @keyframes glow {
      0%, 100% { filter: drop-shadow(0 0 8px #ffd700); }
      50% { filter: drop-shadow(0 0 16px #ffd700); }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    /*
    ボトルネック独占評価フレームワーク（100点満点）

    【5軸評価】
    1. 技術ボトルネック度（40点）: 依存企業数(15) + 代替不可能性(15) + シェア(10)
    2. 競争優位持続性（25点）: リードタイム(10) + 地理的独占性(8) + スイッチングコスト(7)
    3. 収斂加速性（20点）: ドメイン横断需要(12) + 相乗効果(8)
    4. 資本効率（10点）: ROE(4) + FCF(4) + 負債比率(2)
    5. 非対称性（5点）: 認知度の低さ(3) + トリガー(2)

    【核心の問い】
    - この技術がなくなったら、何が止まるか？
    - 何社・何業界がこの技術に依存しているか？
    - 外国企業が追いつくのに何年かかるか？

    【4象限分類】
    - Prime（最優先投資）: certainty≥80 AND upside≥75
    - Stable（安定成長）: certainty≥80 AND upside<75
    - Speculative（投機的機会）: certainty<80 AND upside≥75
    - Avoid（様子見）: certainty<80 AND upside<75
    */

    const stockData = [
      { rank: 1, ticker: "2802", name: "味の素", certainty: 94, upside: 82, total: 89, bottleneck: 38, competitive_moat: 23, convergence: 16, capital_efficiency: 8, asymmetry: 4, quadrant: "prime", domain: "AI", note: "ABF95%独占。全AIチップに必須。食品イメージが情報障壁", core_tech: "ABF層間絶縁材", thesis: "ABF95%独占。Intel/NVIDIA/AMD/TSMC他100社以上が依存。代替技術なし" },
      { rank: 2, ticker: "6920", name: "レーザーテック", certainty: 96, upside: 72, total: 88, bottleneck: 40, competitive_moat: 22, convergence: 14, capital_efficiency: 10, asymmetry: 2, quadrant: "stable", domain: "AI", note: "EUVマスク検査100%独占。営業利益率48.8%", core_tech: "EUVマスク欠陥検査装置", thesis: "EUVマスク検査100%独占。ASML顧客全社が依存" },
      { rank: 3, ticker: "5631", name: "日本製鋼所", certainty: 93, upside: 80, total: 87, bottleneck: 36, competitive_moat: 24, convergence: 16, capital_efficiency: 7, asymmetry: 4, quadrant: "prime", domain: "エネルギー", note: "原子力大型部材80%独占。認証取得に10年以上", core_tech: "原子力大型鍛造品・圧力容器", thesis: "北米SMR初受注で新市場開拓" },
      { rank: 4, ticker: "4187", name: "大阪有機化学工業", certainty: 88, upside: 88, total: 86, bottleneck: 35, competitive_moat: 21, convergence: 14, capital_efficiency: 8, asymmetry: 5, quadrant: "prime", domain: "AI", note: "ArFモノマー70%独占。Tier2の隠れた独占企業", core_tech: "ArFモノマー・EUV用材料", thesis: "EUV用量産移行で需要爆発" },
      { rank: 5, ticker: "6146", name: "ディスコ", certainty: 92, upside: 70, total: 86, bottleneck: 36, competitive_moat: 22, convergence: 14, capital_efficiency: 10, asymmetry: 2, quadrant: "stable", domain: "AI", note: "ダイシング75%、ブレード95%独占。消耗品で安定収益", core_tech: "ダイシング装置・ブレード", thesis: "半導体後工程の必須装置" },
      { rank: 6, ticker: "6492", name: "岡野バルブ製造", certainty: 91, upside: 85, total: 85, bottleneck: 34, competitive_moat: 23, convergence: 14, capital_efficiency: 7, asymmetry: 5, quadrant: "prime", domain: "エネルギー", note: "原子力バルブ80%独占。60ヵ国100万台納入実績", core_tech: "原子力用バルブ", thesis: "認証参入障壁は10年以上" },
      { rank: 7, ticker: "6324", name: "ハーモニック・ドライブ", certainty: 88, upside: 82, total: 84, bottleneck: 35, competitive_moat: 21, convergence: 16, capital_efficiency: 7, asymmetry: 4, quadrant: "prime", domain: "ロボティクス", note: "波動歯車50%独占。全ロボットメーカーが依存", core_tech: "波動歯車装置（精密減速機）", thesis: "ヒューマノイド100億円戦略投資" },
      { rank: 8, ticker: "6524", name: "湖北工業", certainty: 85, upside: 90, total: 84, bottleneck: 33, competitive_moat: 20, convergence: 16, capital_efficiency: 7, asymmetry: 5, quadrant: "prime", domain: "AI", note: "光アイソレータ50%超。GNT企業。量子通信対応", core_tech: "光アイソレータ", thesis: "PLZT新材料で量子通信対応" },
      { rank: 9, ticker: "6268", name: "ナブテスコ", certainty: 89, upside: 78, total: 83, bottleneck: 35, competitive_moat: 21, convergence: 16, capital_efficiency: 8, asymmetry: 3, quadrant: "prime", domain: "ロボティクス", note: "RV減速機60%（中大型90%）独占", core_tech: "RV減速機（精密減速機）", thesis: "ヒューマノイド需要で追い風" },
      { rank: 10, ticker: "7011", name: "三菱重工業", certainty: 90, upside: 80, total: 83, bottleneck: 32, competitive_moat: 23, convergence: 18, capital_efficiency: 7, asymmetry: 3, quadrant: "prime", domain: "防衛", note: "防衛首位、受注残10.7兆円。6ドメイン全てに関与", core_tech: "防衛装備品（ミサイル、艦艇、航空機）", thesis: "豪州護衛艦9600億円で輸出拡大" },
      { rank: 11, ticker: "4109", name: "ステラケミファ", certainty: 88, upside: 80, total: 82, bottleneck: 34, competitive_moat: 21, convergence: 14, capital_efficiency: 8, asymmetry: 4, quadrant: "prime", domain: "AI", note: "高純度フッ化水素酸30%（日本3社で90%寡占）", core_tech: "高純度フッ化水素酸", thesis: "代替不可能。韓国輸出規制で注目" },
      { rank: 12, ticker: "6315", name: "TOWA", certainty: 87, upside: 82, total: 82, bottleneck: 34, competitive_moat: 20, convergence: 16, capital_efficiency: 8, asymmetry: 4, quadrant: "prime", domain: "AI", note: "HBM封止装置66%独占。世界唯一のコンプレッション方式", core_tech: "HBM封止装置（コンプレッション方式）", thesis: "AI需要爆発で追い風" },
      { rank: 13, ticker: "1969", name: "高砂熱学工業", certainty: 85, upside: 82, total: 81, bottleneck: 32, competitive_moat: 20, convergence: 18, capital_efficiency: 8, asymmetry: 3, quadrant: "prime", domain: "AI", note: "DC液冷55%独占。ASHRAE世界2位", core_tech: "データセンター液冷システム", thesis: "AI電力需要で必須に" },
      { rank: 14, ticker: "5803", name: "フジクラ", certainty: 85, upside: 78, total: 80, bottleneck: 32, competitive_moat: 20, convergence: 16, capital_efficiency: 8, asymmetry: 3, quadrant: "prime", domain: "AI", note: "光融着接続機50%超。米国AIインフラ3兆円枠組み", core_tech: "光融着接続機・光コネクタ", thesis: "DC向け光配線" },
      { rank: 15, ticker: "5801", name: "古河電気工業", certainty: 83, upside: 80, total: 79, bottleneck: 31, competitive_moat: 19, convergence: 16, capital_efficiency: 7, asymmetry: 4, quadrant: "prime", domain: "AI", note: "ITLA50%超。DC向け2倍、2030年度3倍目標", core_tech: "ITLA（調整可能レーザーアセンブリ）", thesis: "高速光通信の必須部品" },
      { rank: 16, ticker: "8035", name: "東京エレクトロン", certainty: 90, upside: 68, total: 79, bottleneck: 34, competitive_moat: 21, convergence: 16, capital_efficiency: 9, asymmetry: 1, quadrant: "stable", domain: "AI", note: "コータ91%独占。認知度最高で非対称性低", core_tech: "コータ・デベロッパ、エッチング装置", thesis: "中国39%がリスク要因" },
      { rank: 17, ticker: "6508", name: "明電舎", certainty: 82, upside: 85, total: 78, bottleneck: 28, competitive_moat: 20, convergence: 18, capital_efficiency: 7, asymmetry: 4, quadrant: "prime", domain: "エネルギー", note: "変圧器国内大手。160億円増産投資", core_tech: "変圧器・送配電機器", thesis: "DC・半導体工場の送配電需要" },
      { rank: 18, ticker: "7012", name: "川崎重工業", certainty: 86, upside: 75, total: 78, bottleneck: 30, competitive_moat: 22, convergence: 18, capital_efficiency: 6, asymmetry: 2, quadrant: "prime", domain: "防衛", note: "潜水艦2社独占（三菱重工と）。水素サプライチェーン", core_tech: "潜水艦、防衛機器、水素システム", thesis: "不正問題で短期リスク" },
      { rank: 19, ticker: "7013", name: "IHI", certainty: 84, upside: 75, total: 77, bottleneck: 29, competitive_moat: 21, convergence: 18, capital_efficiency: 7, asymmetry: 2, quadrant: "prime", domain: "防衛", note: "GCAP戦闘機エンジン共同開発。宇宙推進系", core_tech: "航空エンジン、宇宙推進系", thesis: "日英伊共同で輸出拡大" },
      { rank: 20, ticker: "4063", name: "信越化学工業", certainty: 88, upside: 65, total: 77, bottleneck: 32, competitive_moat: 21, convergence: 16, capital_efficiency: 9, asymmetry: 1, quadrant: "stable", domain: "AI", note: "シリコンウエハ42.5%首位。認知度高く非対称性低", core_tech: "シリコンウエハ", thesis: "5000億円自社株買い" },
      { rank: 21, ticker: "4186", name: "東京応化工業", certainty: 86, upside: 70, total: 76, bottleneck: 32, competitive_moat: 20, convergence: 14, capital_efficiency: 8, asymmetry: 2, quadrant: "stable", domain: "AI", note: "フォトレジスト24.7%首位。日本5社で92%寡占", core_tech: "フォトレジスト", thesis: "EUV用で追い風" },
      { rank: 22, ticker: "6503", name: "三菱電機", certainty: 84, upside: 75, total: 76, bottleneck: 28, competitive_moat: 21, convergence: 18, capital_efficiency: 7, asymmetry: 2, quadrant: "prime", domain: "防衛", note: "防衛3位、衛星製造首位級。Gap分析で+5点調整", core_tech: "防衛電子、衛星、パワー半導体", thesis: "電子戦技術" },
      { rank: 23, ticker: "4004", name: "レゾナック", certainty: 82, upside: 78, total: 76, bottleneck: 30, competitive_moat: 19, convergence: 16, capital_efficiency: 7, asymmetry: 3, quadrant: "prime", domain: "AI", note: "HBM材料150億円投資。後工程材料の雄へ", core_tech: "HBM材料（ダイアタッチフィルム等）", thesis: "AI需要で追い風" },
      { rank: 24, ticker: "6779", name: "日本電波工業", certainty: 80, upside: 82, total: 75, bottleneck: 28, competitive_moat: 19, convergence: 16, capital_efficiency: 7, asymmetry: 4, quadrant: "prime", domain: "AI", note: "水晶デバイス世界首位。自動運転・5G対応", core_tech: "水晶デバイス", thesis: "全電子機器に必須" },
      { rank: 25, ticker: "7741", name: "HOYA", certainty: 90, upside: 62, total: 75, bottleneck: 34, competitive_moat: 20, convergence: 12, capital_efficiency: 9, asymmetry: 1, quadrant: "stable", domain: "AI", note: "マスクブランクス80%首位。認知度高い", core_tech: "マスクブランクス", thesis: "EUV最重要部材" },
      { rank: 26, ticker: "6857", name: "アドバンテスト", certainty: 86, upside: 65, total: 75, bottleneck: 32, competitive_moat: 20, convergence: 14, capital_efficiency: 9, asymmetry: 1, quadrant: "stable", domain: "AI", note: "テスタSoC55%首位。認知度高く非対称性低", core_tech: "半導体テスタ", thesis: "HBMテスト需要" },
      { rank: 27, ticker: "6376", name: "日機装", certainty: 78, upside: 85, total: 74, bottleneck: 26, competitive_moat: 19, convergence: 18, capital_efficiency: 7, asymmetry: 4, quadrant: "speculative", domain: "宇宙", note: "衛星部品・医療ポンプ。4ドメイン横断", core_tech: "衛星部品、医療ポンプ、産業ポンプ", thesis: "宇宙ビジネス参入" },
      { rank: 28, ticker: "7729", name: "東京精密", certainty: 82, upside: 72, total: 74, bottleneck: 28, competitive_moat: 19, convergence: 14, capital_efficiency: 8, asymmetry: 3, quadrant: "stable", domain: "AI", note: "後工程複数装置。ディスコと2強", core_tech: "半導体製造装置（後工程）", thesis: "研削・検査で強み" },
      { rank: 29, ticker: "6965", name: "浜松ホトニクス", certainty: 84, upside: 68, total: 73, bottleneck: 30, competitive_moat: 19, convergence: 14, capital_efficiency: 8, asymmetry: 2, quadrant: "stable", domain: "AI", note: "光センサー世界首位。量子・医療展開", core_tech: "光センサー、フォトマル", thesis: "ノーベル賞関連技術" },
      { rank: 30, ticker: "6516", name: "山洋電気", certainty: 78, upside: 82, total: 72, bottleneck: 26, competitive_moat: 18, convergence: 16, capital_efficiency: 7, asymmetry: 4, quadrant: "prime", domain: "AI", note: "冷却ファン・UPS。AI電力需要で必須", core_tech: "冷却ファン、UPS", thesis: "AIデータセンター恩恵" },
    ];

    const allStocks = stockData;

    // 色の定義
    const domainColors = {
      "AI": "#a855f7",
      "防衛": "#3b82f6",
      "エネルギー": "#22c55e",
      "ロボティクス": "#f97316",
      "宇宙": "#06b6d4",
      "サイバー": "#ec4899",
    };

    const quadrantColors = {
      prime: { bg: "rgba(34, 197, 94, 0.15)", border: "#22c55e", label: "最優先投資" },
      stable: { bg: "rgba(59, 130, 246, 0.15)", border: "#3b82f6", label: "安定成長" },
      speculative: { bg: "rgba(249, 115, 22, 0.15)", border: "#f97316", label: "投機的機会" },
      avoid: { bg: "rgba(239, 68, 68, 0.15)", border: "#ef4444", label: "回避/様子見" },
    };

    function QuadrantChart() {
      const [hoveredStock, setHoveredStock] = useState(null);
      const [selectedDomain, setSelectedDomain] = useState("all");

      const chartWidth = 800;
      const chartHeight = 600;
      const padding = 60;

      const filteredStocks = selectedDomain === "all"
        ? allStocks
        : allStocks.filter(s => s.domain === selectedDomain);

      // 確実性75-100、アップサイド60-95の範囲でスケーリング
      const scaleX = (certainty) => padding + ((certainty - 75) / 25) * (chartWidth - 2 * padding);
      const scaleY = (upside) => chartHeight - padding - ((upside - 60) / 35) * (chartHeight - 2 * padding);

      const domains = [...new Set(allStocks.map(s => s.domain))];

      // ホバー中の銘柄を最後に描画するためにソート
      const sortedStocks = [...filteredStocks].sort((a, b) => {
        if (a.ticker === hoveredStock) return 1;
        if (b.ticker === hoveredStock) return -1;
        return 0;
      });

      // ホバー中の銘柄データを取得
      const hoveredStockData = hoveredStock ? allStocks.find(s => s.ticker === hoveredStock) : null;

      return (
        <div style={{ maxWidth: "1200px", margin: "0 auto" }}>
          <h1 style={{ textAlign: "center", fontSize: "24px", marginBottom: "8px", color: "#fff" }}>
            ボトルネック独占評価 Top30【日本企業版】
          </h1>
          <h2 style={{ textAlign: "center", fontSize: "16px", marginBottom: "12px", color: "#94a3b8", fontWeight: "normal" }}>
            4象限マトリックス（確実性 × アップサイド）| 2026年1月27日
          </h2>

          {/* 市場危険度アラート */}
          <div style={{ display: "flex", justifyContent: "center", marginBottom: "16px" }}>
            <div style={{
              background: "linear-gradient(135deg, #f97316, #c2410c)",
              padding: "8px 20px",
              borderRadius: "20px",
              fontSize: "13px",
              fontWeight: "bold",
              boxShadow: "0 4px 15px rgba(249, 115, 22, 0.4)"
            }}>
              市場危険度 55/100（中〜高リスク）| 評価軸: ボトルネック(40)+競争優位(25)+収斂(20)+資本効率(10)+非対称性(5)
            </div>
          </div>

          {/* フィルター */}
          <div style={{ display: "flex", justifyContent: "center", gap: "8px", marginBottom: "16px", flexWrap: "wrap" }}>
            <button
              onClick={() => setSelectedDomain("all")}
              style={{
                padding: "6px 14px",
                borderRadius: "20px",
                border: "none",
                background: selectedDomain === "all" ? "#fff" : "#334155",
                color: selectedDomain === "all" ? "#1a1a2e" : "#94a3b8",
                cursor: "pointer",
                fontSize: "12px",
                fontWeight: selectedDomain === "all" ? "bold" : "normal"
              }}
            >
              すべて
            </button>
            {domains.map(domain => (
              <button
                key={domain}
                onClick={() => setSelectedDomain(domain)}
                style={{
                  padding: "6px 14px",
                  borderRadius: "20px",
                  border: `1px solid ${domainColors[domain] || "#888"}`,
                  background: selectedDomain === domain ? (domainColors[domain] || "#888") : "transparent",
                  color: selectedDomain === domain ? "#fff" : (domainColors[domain] || "#888"),
                  cursor: "pointer",
                  fontSize: "12px"
                }}
              >
                {domain}
              </button>
            ))}
          </div>

          {/* チャート */}
          <div style={{ position: "relative", background: "#0f172a", borderRadius: "12px", padding: "10px" }}>
            <svg width={chartWidth} height={chartHeight} style={{ display: "block", margin: "0 auto" }}>
              {/* 背景の象限 */}
              <rect x={padding} y={padding} width={(chartWidth - 2 * padding) / 2} height={(chartHeight - 2 * padding) / 2} fill={quadrantColors.speculative.bg} />
              <rect x={padding + (chartWidth - 2 * padding) / 2} y={padding} width={(chartWidth - 2 * padding) / 2} height={(chartHeight - 2 * padding) / 2} fill={quadrantColors.prime.bg} />
              <rect x={padding} y={padding + (chartHeight - 2 * padding) / 2} width={(chartWidth - 2 * padding) / 2} height={(chartHeight - 2 * padding) / 2} fill={quadrantColors.avoid.bg} />
              <rect x={padding + (chartWidth - 2 * padding) / 2} y={padding + (chartHeight - 2 * padding) / 2} width={(chartWidth - 2 * padding) / 2} height={(chartHeight - 2 * padding) / 2} fill={quadrantColors.stable.bg} />

              {/* 象限ラベル */}
              <text x={padding + 10} y={padding + 25} fill={quadrantColors.speculative.border} fontSize="13" fontWeight="bold">投機的機会</text>
              <text x={chartWidth - padding - 100} y={padding + 25} fill={quadrantColors.prime.border} fontSize="13" fontWeight="bold">最優先投資</text>
              <text x={padding + 10} y={chartHeight - padding - 10} fill={quadrantColors.avoid.border} fontSize="13" fontWeight="bold">回避/様子見</text>
              <text x={chartWidth - padding - 85} y={chartHeight - padding - 10} fill={quadrantColors.stable.border} fontSize="13" fontWeight="bold">安定成長</text>

              {/* 軸 */}
              <line x1={padding} y1={chartHeight / 2} x2={chartWidth - padding} y2={chartHeight / 2} stroke="#475569" strokeDasharray="4" />
              <line x1={chartWidth / 2} y1={padding} x2={chartWidth / 2} y2={chartHeight - padding} stroke="#475569" strokeDasharray="4" />

              {/* 軸ラベル */}
              <text x={chartWidth / 2} y={chartHeight - 15} textAnchor="middle" fill="#94a3b8" fontSize="12">確実性（シェア安定・契約確定・競争優位持続）</text>
              <text x={15} y={chartHeight / 2} textAnchor="middle" fill="#94a3b8" fontSize="12" transform={`rotate(-90, 15, ${chartHeight / 2})`}>アップサイド（非対称性・収斂加速性）</text>

              {/* 銘柄プロット */}
              {sortedStocks.map((stock) => {
                const x = scaleX(stock.certainty);
                const y = scaleY(stock.upside);
                const color = domainColors[stock.domain] || "#888";
                const isHovered = hoveredStock === stock.ticker;
                const isTop1 = stock.rank === 1;
                const isHighBottleneck = stock.bottleneck >= 35;

                return (
                  <g key={stock.ticker} style={{ cursor: "pointer" }}>
                    <circle
                      cx={x}
                      cy={y}
                      r={isTop1 ? 26 : isHighBottleneck ? 22 : isHovered ? 24 : 18}
                      fill={isTop1 ? `#ffd700cc` : `${color}${isHovered ? "dd" : "99"}`}
                      stroke={isTop1 ? "#ffd700" : isHighBottleneck ? "#ff6b6b" : isHovered ? "#fff" : color}
                      strokeWidth={isTop1 ? 3 : isHighBottleneck ? 2 : isHovered ? 3 : 1}
                      style={{ transition: "all 0.2s" }}
                      onMouseEnter={() => setHoveredStock(stock.ticker)}
                      onMouseLeave={() => setHoveredStock(null)}
                    />
                    {/* ティッカー */}
                    <text
                      x={x}
                      y={y + 1}
                      textAnchor="middle"
                      dominantBaseline="middle"
                      fill={isTop1 ? "#1a1a2e" : "#fff"}
                      fontSize={isTop1 ? "9" : isHovered ? "9" : "7"}
                      fontWeight="bold"
                      style={{ pointerEvents: "none" }}
                    >
                      {stock.ticker}
                    </text>
                    {/* 順位 */}
                    <text
                      x={x}
                      y={y - (isTop1 ? 34 : 26)}
                      textAnchor="middle"
                      fill={isTop1 ? "#ffd700" : isHighBottleneck ? "#ff6b6b" : "#94a3b8"}
                      fontSize={isTop1 ? "11" : "9"}
                      fontWeight={isTop1 || isHighBottleneck ? "bold" : "normal"}
                      style={{ pointerEvents: "none" }}
                    >
                      {isTop1 ? "#1" : `#${stock.rank}`}
                    </text>
                  </g>
                );
              })}
            </svg>

            {/* ホバー情報 */}
            {hoveredStockData && (
              <div style={{
                position: "absolute",
                top: "20px",
                right: "20px",
                background: "#1e293b",
                border: "1px solid #475569",
                borderRadius: "8px",
                padding: "12px",
                minWidth: "300px",
                boxShadow: "0 10px 40px rgba(0,0,0,0.5)",
                zIndex: 100
              }}>
                {(() => {
                  const stock = hoveredStockData;
                  const color = domainColors[stock.domain] || "#888";
                  const isHighBottleneck = stock.bottleneck >= 35;
                  return (
                    <>
                      <div style={{ display: "flex", alignItems: "center", gap: "8px" }}>
                        <span style={{ fontSize: "18px", fontWeight: "bold", color: stock.rank === 1 ? "#ffd700" : color }}>
                          {stock.ticker}
                        </span>
                        {stock.rank === 1 && <span>最高確信</span>}
                        {isHighBottleneck && <span style={{ background: "#ff6b6b", color: "#000", padding: "2px 6px", borderRadius: "4px", fontSize: "10px" }}>高ボトルネック</span>}
                      </div>
                      <div style={{ fontSize: "14px", color: "#94a3b8", marginBottom: "4px" }}>{stock.name}</div>
                      <div style={{ fontSize: "11px", color: "#64748b", marginBottom: "8px" }}>{stock.core_tech}</div>
                      <div style={{ fontSize: "12px", color: "#cbd5e1" }}>
                        <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr", gap: "4px" }}>
                          <div>順位: #{stock.rank}</div>
                          <div>総合: {stock.total}点</div>
                          <div>確実性: {stock.certainty}</div>
                          <div>アップサイド: {stock.upside}</div>
                        </div>
                        <div style={{ marginTop: "6px", paddingTop: "6px", borderTop: "1px solid #475569", fontSize: "11px" }}>
                          <div>ボトルネック度: {stock.bottleneck}/40 | 競争優位: {stock.competitive_moat}/25</div>
                          <div>収斂加速性: {stock.convergence}/20 | 資本効率: {stock.capital_efficiency}/10</div>
                          <div>非対称性: {stock.asymmetry}/5</div>
                        </div>
                        <div style={{ marginTop: "6px", color: "#fbbf24" }}>{stock.note}</div>
                        <div style={{ marginTop: "4px", color: "#94a3b8", fontSize: "10px" }}>{stock.thesis}</div>
                      </div>
                    </>
                  );
                })()}
              </div>
            )}
          </div>

          {/* 凡例 */}
          <div style={{ display: "flex", justifyContent: "center", gap: "16px", marginTop: "16px", flexWrap: "wrap" }}>
            {Object.entries(domainColors).map(([domain, color]) => (
              <div key={domain} style={{ display: "flex", alignItems: "center", gap: "6px" }}>
                <div style={{ width: "12px", height: "12px", borderRadius: "50%", background: color }} />
                <span style={{ fontSize: "12px", color: "#94a3b8" }}>{domain}</span>
              </div>
            ))}
            <div style={{ display: "flex", alignItems: "center", gap: "6px" }}>
              <div style={{ width: "12px", height: "12px", borderRadius: "50%", border: "2px solid #ff6b6b", background: "transparent" }} />
              <span style={{ fontSize: "12px", color: "#ff6b6b" }}>高ボトルネック(35+)</span>
            </div>
          </div>

          {/* 評価基準の説明 */}
          <div style={{
            marginTop: "16px",
            background: "rgba(71, 85, 105, 0.3)",
            border: "1px solid #475569",
            borderRadius: "8px",
            padding: "10px",
            fontSize: "11px",
            color: "#94a3b8"
          }}>
            <div style={{ fontWeight: "bold", marginBottom: "4px" }}>ボトルネック独占評価フレームワーク（100点満点）</div>
            <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr 1fr", gap: "8px" }}>
              <div><span style={{ color: "#ff6b6b" }}>ボトルネック度(40点)</span>: 依存企業数 + 代替不可能性 + シェア</div>
              <div><span style={{ color: "#3b82f6" }}>競争優位持続性(25点)</span>: リードタイム + 地理的独占 + スイッチングコスト</div>
              <div><span style={{ color: "#22c55e" }}>収斂加速性(20点)</span>: ドメイン横断需要 + 相乗効果</div>
            </div>
            <div style={{ marginTop: "4px" }}>
              <span style={{ color: "#f97316" }}>核心の問い</span>: この技術がなくなったら何が止まるか？ / 何社が依存？ / 追いつくのに何年？
            </div>
          </div>

          {/* 最高確信銘柄ハイライト */}
          <div style={{
            marginTop: "16px",
            background: "linear-gradient(135deg, rgba(255,215,0,0.15), rgba(34,197,94,0.1))",
            border: "2px solid #ffd700",
            borderRadius: "10px",
            padding: "14px"
          }}>
            <div style={{ display: "flex", alignItems: "center", gap: "8px", marginBottom: "6px" }}>
              <span style={{ fontSize: "20px" }}>1</span>
              <span style={{ fontSize: "16px", fontWeight: "bold", color: "#ffd700" }}>最高確信銘柄：2802 味の素</span>
            </div>
            <div style={{ fontSize: "12px", color: "#cbd5e1", lineHeight: "1.6" }}>
              ABF層間絶縁材で世界シェア95%を独占。Intel, NVIDIA, AMD, TSMC他100社以上が依存し、代替技術は存在しない。
              食品会社というイメージが情報障壁を形成し、半導体材料の強みが見落とされている。
              <span style={{ color: "#fbbf24" }}>「AIチップなしにAIなし、ABFなしにAIチップなし」= グローバル・ボトルネック支配</span>
            </div>
          </div>

          {/* 高ボトルネック銘柄 */}
          <div style={{
            marginTop: "12px",
            background: "linear-gradient(135deg, rgba(255,107,107,0.1), rgba(239,68,68,0.05))",
            border: "1px solid #ff6b6b",
            borderRadius: "10px",
            padding: "12px"
          }}>
            <div style={{ display: "flex", alignItems: "center", gap: "8px", marginBottom: "6px" }}>
              <span style={{ fontSize: "14px", fontWeight: "bold", color: "#ff6b6b" }}>高ボトルネック銘柄（35点以上）</span>
            </div>
            <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr 1fr", gap: "8px", fontSize: "11px", color: "#cbd5e1" }}>
              <div><span style={{ color: "#ff6b6b" }}>6920</span> レーザーテック: EUVマスク検査100%独占</div>
              <div><span style={{ color: "#ff6b6b" }}>2802</span> 味の素: ABF95%独占</div>
              <div><span style={{ color: "#ff6b6b" }}>5631</span> 日本製鋼所: 原子力大型部材80%</div>
              <div><span style={{ color: "#ff6b6b" }}>6146</span> ディスコ: ダイシング75%、ブレード95%</div>
              <div><span style={{ color: "#ff6b6b" }}>4187</span> 大阪有機化学: ArFモノマー70%</div>
              <div><span style={{ color: "#ff6b6b" }}>6324</span> ハーモニック: 波動歯車50%</div>
              <div><span style={{ color: "#ff6b6b" }}>6268</span> ナブテスコ: RV減速機60%</div>
            </div>
          </div>

          {/* 戦略サマリー */}
          <div style={{ display: "grid", gridTemplateColumns: "repeat(auto-fit, minmax(250px, 1fr))", gap: "12px", marginTop: "20px" }}>
            <div style={{ background: `${quadrantColors.prime.bg}`, border: `1px solid ${quadrantColors.prime.border}`, borderRadius: "8px", padding: "12px" }}>
              <div style={{ color: quadrantColors.prime.border, fontWeight: "bold", marginBottom: "4px" }}>最優先投資（Prime）: 20社</div>
              <div style={{ fontSize: "12px", color: "#ffd700" }}>2802 味の素（最高確信）</div>
              <div style={{ fontSize: "11px", color: "#cbd5e1" }}>5631日本製鋼所, 4187大阪有機化学, 6492岡野バルブ, 6324ハーモニック, 6524湖北工業, 6268ナブテスコ, 7011三菱重工...</div>
            </div>
            <div style={{ background: `${quadrantColors.stable.bg}`, border: `1px solid ${quadrantColors.stable.border}`, borderRadius: "8px", padding: "12px" }}>
              <div style={{ color: quadrantColors.stable.border, fontWeight: "bold", marginBottom: "4px" }}>安定成長（Stable）: 9社</div>
              <div style={{ fontSize: "11px", color: "#cbd5e1" }}>6920レーザーテック, 6146ディスコ, 8035東京エレクトロン, 4063信越化学, 4186東京応化, 7741HOYA, 6857アドバンテスト, 7729東京精密, 6965浜松ホトニクス</div>
            </div>
            <div style={{ background: `${quadrantColors.speculative.bg}`, border: `1px solid ${quadrantColors.speculative.border}`, borderRadius: "8px", padding: "12px" }}>
              <div style={{ color: quadrantColors.speculative.border, fontWeight: "bold", marginBottom: "4px" }}>投機的機会（Speculative）: 1社</div>
              <div style={{ fontSize: "11px", color: "#cbd5e1" }}>6376日機装（衛星部品・医療、4ドメイン横断だが確実性低）</div>
            </div>
            <div style={{ background: `${quadrantColors.avoid.bg}`, border: `1px solid ${quadrantColors.avoid.border}`, borderRadius: "8px", padding: "12px" }}>
              <div style={{ color: quadrantColors.avoid.border, fontWeight: "bold", marginBottom: "4px" }}>回避/様子見（Avoid）: 0社</div>
              <div style={{ fontSize: "11px", color: "#cbd5e1" }}>Top30内に該当なし</div>
            </div>
          </div>

          {/* Key Insights */}
          <div style={{
            marginTop: "16px",
            background: "rgba(168, 85, 247, 0.1)",
            border: "1px solid #a855f7",
            borderRadius: "10px",
            padding: "12px"
          }}>
            <div style={{ fontSize: "13px", fontWeight: "bold", color: "#a855f7", marginBottom: "8px" }}>Key Insights</div>
            <ul style={{ fontSize: "11px", color: "#cbd5e1", paddingLeft: "20px", lineHeight: "1.8" }}>
              <li><span style={{ color: "#ff6b6b" }}>ボトルネック度最高</span>: レーザーテック(40/40)、味の素(38/40)、ディスコ(36/40) - 代替不可能な独占</li>
              <li><span style={{ color: "#fbbf24" }}>隠れた高非対称性</span>: 大阪有機化学(5/5)、岡野バルブ(5/5)、湖北工業(5/5) - Tier2/3の見逃し企業</li>
              <li><span style={{ color: "#f97316" }}>ヒューマノイド関連</span>: ハーモニック・ナブテスコの減速機デュオポリーはロボット産業全体の必須部品</li>
              <li><span style={{ color: "#22c55e" }}>エネルギー安全保障</span>: 日本製鋼所(原子力)、岡野バルブ(原子力)、明電舎(送配電)が国策恩恵</li>
              <li><span style={{ color: "#3b82f6" }}>AI電力インフラ</span>: 高砂熱学(液冷)、フジクラ(光配線)、古河電工(ITLA)がDC需要で成長</li>
            </ul>
          </div>

          <div style={{ textAlign: "center", marginTop: "20px", fontSize: "11px", color: "#64748b" }}>
            2026年1月27日 | ボトルネック独占評価フレームワーク | ホバーで詳細表示 | Gap分析済み
          </div>
        </div>
      );
    }

    ReactDOM.render(<QuadrantChart />, document.getElementById('root'));
  </script>
</body>
</html>
